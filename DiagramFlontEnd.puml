@startuml ETL Framework Frontend - Final Conceptual Diagram (v2)

!theme plain
skinparam componentStyle uml2
skinparam defaultFontName "Segoe UI", "Helvetica", "Arial"
skinparam package {
    BackgroundColor LightBlue
    BorderColor RoyalBlue
}
skinparam component {
    BackgroundColor LightYellow
    ArrowColor Navy
    BorderColor Navy
}
skinparam actor {
    BackgroundColor LightBlue
    BorderColor RoyalBlue
}
skinparam interface {
    BackgroundColor LightPink
    BorderColor Firebrick
}
skinparam note {
    BackgroundColor LightGoldenRodYellow
    BorderColor GoldenRod
}

' #############################################
' ###         EXTERNAL SYSTEMS              ###
' #############################################
actor User

package "Backend" {
    interface "REST API\n(FastAPI)" as BackendApi
    interface "Electron Main Process\n(main.cjs)" as ElectronMain
}


' #############################################
' ###      FRONTEND APPLICATION (Renderer)    ###
' #############################################
package "Frontend Application (React)" {

    component "App.jsx" as App {
        component "Header"
        component "PipelineTabs"
    }

    package "Main Components" {
        component "PluginSidebar.jsx" as Sidebar
        component "FlowCanvas.jsx" as Canvas
        component "ParamsSidebar.jsx" as Params
    }

    component "useFlowStore.js\n(Zustand)" as FlowStore <<State>>

    component "apiClient.js\n(axios)" as ApiClient

    interface "window.electronAPI" as PreloadApi
}


' #############################################
' ###            RELATIONSHIPS              ###
' #############################################

User -- App : Interacts with UI

App --o "Main Components" : Contains and orchestrates


"Main Components" ..> FlowStore
App ..> FlowStore

Sidebar ..> ApiClient : GET /plugins
App ..> ApiClient : POST /pipelines/run

ApiClient ..> BackendApi

App ..> PreloadApi : Load/Save Pipeline definitions
Params ..> PreloadApi : Browse File for paths

PreloadApi ..> ElectronMain : IPC messages

@enduml